# 第15章 面向对象程序设计

## 15.1 OOP：概述

1. **面向对象程序设计**(object-oriented programming)的核心思想是：**数据抽象**、**继承**和**动态绑定**。
2. 数据抽象：可以将类的接口与实现分离。
3. 继承（inheritance）：可以定义相似的类型并对其相似关系建模。
4. 动态绑定(dynamic binding)：可以在一定程度上忽略相似类型的区别，而以统一的方式使用它们的对象。
5. 动态绑定有时又被称为**运行时绑定(run-time binding)**
6. 在C++中，当使用基类的引用（或指针）调用一个虚函数时将发生动态绑定。

----

## 15.2 定义基类和派生类

### 15.2.1 定义基类

1. 基类通常都应该定义一个**虚析构函数**，即使该函数不执行任何实际操作也是如此。
2. c++中，基类必须将它的两种成员函数区分开：一种是基类希望其派生类进行覆盖的函数（虚函数）。一种是基类希望派生类直接继承而不要改变的函数。
3. 成员函数如果没被声明为虚函数，则其解析过程发生在**编译**时而非**运行**时。

### 15.2.2 定义派生类

1. **访问说明符**（public、protected和private）的作用是：控制派生类从基类继承而来的成员是否对派生类的用户可见。
2. 如果派生类没有覆盖其基类中的某个虚函数，则该虚函数的行为类似于其他的普通成员，派生类会直接继承其在基类中的版本。
3. c++标准并没有明确规定派生类的对象在内存中如何分布。一个对象中，继承自基类的部分和派生类自定义的部分在内存中不一定是连续存储的。
4. 尽管在派生类对象中含有从基类继承而来的成员，但是派生类并不能直接初始化这些成员。和其他创建了基类对象的代码一样，派生类也必须使用基类的构造函数来初始化它的基类部分。

### 15.2.3 类型转换与继承

----

## 15.3 虚函数

----

## 15.4 抽象基类

----

## 15.5 访问控制与继承

----

## 15.6 继承中的类作用域

----

## 15.7 构造函数与拷贝控制

----

### 15.7.1 虚析构函数

### 15.7.2 合成拷贝控制与继承

### 15.7.3 派生类的拷贝控制成员

### 15.7.4 继承的构造函数

----

## 15.8 容器与继承

### 15.8.1 编写 `Basket` 类

----

## 15.9 文本查询程序再探

### 15.9.1 面向对象的解决方案

### 15.9.2 `Query_base` 类和 `Query` 类

### 15.9.3 派生类

### 15.9.4 `eval` 函数
